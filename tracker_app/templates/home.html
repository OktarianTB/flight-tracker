{% include "header.html" %}
{% block content %}

    {% if logged_in %}

        <div id="map"></div>
        <script>
            var map;
            var coordinates = [];

            function addCoordinates(lat, lng){
                coordinates.push([lat, lng]);
            }

            function initMap(){
                map = new google.maps.Map(document.getElementById('map'), {
                    center: {lat: 40, lng: 0},
                    zoom: 2
                });

                function addMarker(location) {
                    var marker = new google.maps.Marker({
                    position: location,
                    map: map
                    });
                }

                for(var i=0; i < coordinates.length; i++)
                {
                    addMarker({lat: coordinates[i][0], lng: coordinates[i][1]});
                }
        }


        </script>

        {% for location in coordinates %}
            <script type="text/javascript">
                addCoordinates({{ location[0] }}, {{ location[1] }});
            </script>
        {% endfor %}
    {% endif %}


{% endblock content %}
{% include "footer.html" %}